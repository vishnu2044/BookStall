{% extends 'adminpanel/base.html' %}

{% block title %}
    orders-details
{% endblock %}

{% block content %} 
<div class="col-md-8 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Order details</h4>
        <p class="card-description">Horizontal form layout</p>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">User name</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.order.user.username  }}</p>
          </div>
        </div>
        
        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Customer Name</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.user.first_name }} {{ order_item.user.last_name }}</p>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Order Id</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.order.order_id }}</p>
          </div>
        </div>


        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Product</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.product.product_name }}</p>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Prodcut Cost</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.product_price }}</p>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Payment Method</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.order.payment }}</p>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Order Date</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.created_at }}</p>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Quantity</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.quantity }}</p>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Status</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.status }}</p>
          </div>
        </div>


        <a href="{% url 'admin_order_list' %}">
            <button class="btn btn-dark" >Back</button>
        </a>
      </div>
    </div>
  </div>

<div class="col-md-4 grid-margin stretch-card">
    <div class="card">
      <div class="card-body">
        <h4 class="card-title">Order details</h4>
        <p class="card-description">Horizontal form layout</p>

        <div class="form-group row">
          <label class="col-sm-3 col-form-label">Status</label>
          <div class="col-sm-9">
            <p class="form-control">{{ order_item.status }}</p>
          </div>
        </div>

        <div class="modal-body align-content-left">
            <form required action="{% url 'update_order_status' order_item.id %}"
            class="mx-1 mx-md-4" method="POST">
            {% csrf_token %}
            
            <!-- CAtegory-->
            <div class="mb-12">
                <label for="status">Status</label>
                <select class="btn btn-primary dropdown-toggle" aria-label="Default select example" name="status" required>
                <option class="dropdown-item" value="{{order_item.status}}" selected>{{order_item.status}}</option>
                {% for status in order_item.ORDER_STATUS %}
                <option value="{{ status.0 }}" >{{ status.0 }}</option>
                {% endfor %}
                </select>
                <button type="submit" class="btn btn-success">Update</button>
            </div>


        </form>

        </div>
        <a href="{% url 'admin_order_list' %}">
            <button class="btn btn-dark" >Back</button>
        </a>
        
      </div>``
    </div>
  </div>


  
  

{% endblock content %}
